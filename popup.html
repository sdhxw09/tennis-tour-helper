<style>
    body {
        width:700px;
        height: 400px;
        overflow-x:hidden;
    }
</style>

<link href="css/demo_table.css" rel="stylesheet" type="text/css"/>
<link href="css/jquery.dataTables.css" rel="stylesheet" type="text/css"/>
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script src="jquery.dataTables.min.js"></script>

<script>
    var meboss = {
        refreshRanking: function(rankingPopupData) {
            var myDataTable = $('#ranking').dataTable();

            myDataTable.fnClearTable();
            myDataTable.fnAddData(rankingPopupData);
        },

        refreshApplicant: function(applicantPopupData) {
            var myDataTable = $('#applicant').dataTable();

            myDataTable.fnClearTable();
            myDataTable.fnAddData(applicantPopupData);
        }
    };

    $(document).ready(function() {
        var dataTableOpts = {
                "aoColumns": [
                    { "sTitle": "Name" },
                    { "sTitle": "Ranking" }
                ],
                "bPaginate": false,
                "bLengthChange": false,
                "bFilter": true,
                "bSort": false,
                "bInfo": false,
                "bAutoWidth": false
        };

        $('#tabs').tabs();
        $(':button').button();

        var rankingTable = $('#ranking').dataTable(dataTableOpts);
        var rankingData = JSON.parse(localStorage.getItem('RANKING'));
        if (rankingData) {
            rankingTable.fnAddData(rankingData);
        }

        $('#applicant').dataTable(dataTableOpts);

        $('#rankingButton').click(function(tab) {
            console.log('Refresh button clicked on tab ...');
            chrome.extension.getBackgroundPage().meboss.refreshRanking();
        });

        $('#applicantButton').click(function() {
            console.log('Set Ranking button clicked ...');
            chrome.extension.getBackgroundPage().meboss.setApplicantRanking();
        });
    });

</script>


<div id="tabs">
    <ul>
        <li><a href="#tabs-1">Ranking</a></li>
        <li><a href="#tabs-2">Applicants</a></li>
    </ul>
    <div id="tabs-1">
        <div id="demo">
            <table cellpadding="0" cellspacing="0" border="0" class="display" id="ranking"></table>
        </div>
        <div align="right"><button id="rankingButton">Refresh</button></div>
    </div>

    <div id="tabs-2">
        <div>
            <table cellpadding="0" cellspacing="0" border="0" class="display" id="applicant"></table>
        </div>
        <div align="right"><button id="applicantButton">Set Ranking</button></div>
    </div>
</div>
